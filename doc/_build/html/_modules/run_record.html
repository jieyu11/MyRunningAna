
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>run_record &#8212; myStravaRun 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for run_record</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39;Read run record.</span>

<span class="sd">  :Author: Jie Yu &lt;jie.yu@cern.ch&gt;</span>
<span class="sd">  :Date:   |today|</span>
<span class="sd">  :Synopsis: Reading Strava/Garmin Run Record.</span>

<span class="sd">  :Details: A running record raw data is kept in a .fit file, which can be downloaded from one&#39;s personal garmin or strava page.</span>
<span class="sd">    This code makes use of the input .fit file and extract or calculate useful information about the run. Such include</span>
<span class="sd">    total distance, total time used, average pace, etc. Further on, one record can be used as one data point in </span>
<span class="sd">    a series of runs.</span>


<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">logging</span>                            <span class="c1"># logging:             https://docs.python.org/3.6/howto/logging.html</span>
<span class="kn">import</span> <span class="nn">sys</span>                                <span class="c1"># system specific:     https://docs.python.org/3.6/library/sys.html</span>
<span class="kn">import</span> <span class="nn">time</span>                               <span class="c1"># Time access:         https://docs.python.org/3.6/library/time.html</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>  <span class="c1"># Date and time types: https://docs.python.org/3.6/library/datetime.html</span>
<span class="kn">from</span> <span class="nn">fitparse</span> <span class="k">import</span> <span class="n">FitFile</span>
 
<span class="c1">#.. py:class:: run_record</span>
<div class="viewcode-block" id="run_record"><a class="viewcode-back" href="../code0.html#run_record.run_record">[docs]</a><span class="k">class</span> <span class="nc">run_record</span><span class="p">:</span>
  <span class="sd">&#39;&#39;&#39;Documentation for class run_record. </span>

<span class="sd">    Purpose: </span>
<span class="sd">       Read running record of garmin.fit file and do the simple analysis to provide results about the run.</span>

<span class="sd">    Parameters:</span>
<span class="sd">       :ffitname:  input file name.fit</span>
<span class="sd">       :hours_dif: difference of hours compared to UTC, US Central is 6 hours later, so set to -6</span>
<span class="sd">   </span>
<span class="sd">    Attributes:</span>

<span class="sd">      ====================== ==================== ============================ ============</span>
<span class="sd">          variable              value                  type                         unit  </span>
<span class="sd">      ====================== ==================== ============================ ============</span>
<span class="sd">        altitude             303.0                (&lt;type &#39;float&#39;&gt;)              m </span>
<span class="sd">        cadence              0                    (&lt;type &#39;int&#39;&gt;  )              rpm </span>
<span class="sd">        distance             0.0                  (&lt;type &#39;float&#39;&gt;)              m </span>
<span class="sd">        enhanced_altitude    303.0                (&lt;type &#39;float&#39;&gt;)              m </span>
<span class="sd">        enhanced_speed       0.0                  (&lt;type &#39;float&#39;&gt;)              m/s </span>
<span class="sd">        fractional_cadence   0.0                  (&lt;type &#39;float&#39;&gt;)              rpm </span>
<span class="sd">        heart_rate           103                  (&lt;type &#39;int&#39;&gt;  )              bpm </span>
<span class="sd">        position_lat         501744197            (&lt;type &#39;int&#39;&gt;  )              semicircles </span>
<span class="sd">        position_long        -1116949763          (&lt;type &#39;int&#39;&gt;  )              semicircles </span>
<span class="sd">        speed                0.0                  (&lt;type &#39;float&#39;&gt;)              m/s </span>
<span class="sd">        timestamp            2016-11-24 00 07 12  (&lt;type &#39;datetime.datetime&#39;&gt;)  </span>
<span class="sd">        unknown_87           0                    (&lt;type &#39;int&#39;&gt;)              </span>
<span class="sd">        unknown_88           300                  (&lt;type &#39;int&#39;&gt;)               </span>
<span class="sd">      ====================== ==================== ============================ ============</span>

<span class="sd">     .. na: http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#simple-tables</span>

<span class="sd">    Process:</span>
<span class="sd">      1. read garmin.fit file by calling the class rcd = run_record( &quot;garmin.fit&quot; ) </span>
<span class="sd">      2. keep the data of _speed_, _heart_rate_, etc, into vectors</span>
<span class="sd">      3. calculate the interested variables, e.g. _average_speed_, total_passed_time, etc.</span>
<span class="sd">      4. make the interesting plots, e.g. speed_vs_time, heart_vs_time, heart_vs_time, etc.</span>
<span class="sd">      5. show the results by calling </span>
<span class="sd">  </span>
<span class="sd">    Functions:</span>

<span class="sd">      ========================= ==========================================================================</span>
<span class="sd">        function                 note</span>
<span class="sd">      ========================= ==========================================================================</span>
<span class="sd">        getListMeasures()        return the list of measured variables  altitude, cadence, distance, etc.</span>
<span class="sd">        getAverageAltitude()     return average altitude in meters</span>
<span class="sd">        getAscendMeters()        return the number of meters assended</span>
<span class="sd">        getDescendMeters()       return the number of meters desended</span>
<span class="sd">        getFastestKmTime()       return the time of fastest 1Km in &lt;timedelta&gt;</span>
<span class="sd">        getMinimumSpeed()        return the slowest speed in m/s</span>
<span class="sd">        getMaximumSpeed()        return the fastest speed in m/s</span>
<span class="sd">        getAverageSpeed()        return the average speed in m/s</span>
<span class="sd">        getMinimumPaceKm()       return the slowest pace in &lt;timedelta&gt; per Km</span>
<span class="sd">        getMaximumPaceKm()       return the fastest pace in &lt;timedelta&gt; per Km</span>
<span class="sd">        getAveragePaceKm()       return the average pace in &lt;timedelta&gt; per Km</span>
<span class="sd">        getMinimumPaceMile()     return the slowest pace in &lt;timedelta&gt; per mile</span>
<span class="sd">        getMaximumPaceMile()     return the fastest pace in &lt;timedelta&gt; per mile</span>
<span class="sd">        getAveragePaceMile()     return the average pace in &lt;timedelta&gt; per mile</span>
<span class="sd">        getMinimumCadence()      return the minimum cadence in rpm</span>
<span class="sd">        getMaximumCadence()      return the maximum cadence in rpm</span>
<span class="sd">        getAverageCadence()      return the average cadence in rpm</span>
<span class="sd">        getMinimumHeartRate()    return the minimum heart rate in bpm </span>
<span class="sd">        getMaximumHeartRate()    return the maximum heart rate in bpm </span>
<span class="sd">        getAverageHeartRate()    return the average heart rate in bpm </span>
<span class="sd">        getTotalDistanceMile()   return the total distance in mile</span>
<span class="sd">        getTotalDistanceKm()     return the total distance in Km</span>
<span class="sd">        getTotalDistanceMeter()  return the total distance in meter</span>
<span class="sd">        getTotalTimePassed()     return the total time used </span>
<span class="sd">        getStartTime()           return the starting time point in &lt;datetime&gt;</span>
<span class="sd">        getEndTime()             return the stopping time point in &lt;datetime&gt;</span>
<span class="sd">        getAltitudeList()        return the list of altitude data in meter</span>
<span class="sd">        getCadenceList()         return the list of cadence data in rpm</span>
<span class="sd">        getDistanceList()        return the list of distance data in meter</span>
<span class="sd">        getHeartRateList()       return the list of heart rate data in bpm</span>
<span class="sd">        getSpeedList()           return the list of speed data in m/s</span>
<span class="sd">        getPaceKmList()          return the list of the pace in minutes per km</span>
<span class="sd">        getDateTimeList()        return the list of time stamps in &lt;datetime&gt;</span>
<span class="sd">        getElapsedTimeList()     return the list of the elapsed time in &lt;timedelta&gt;</span>
<span class="sd">        getElapsedMinutesList()  return the list of the elapsed minutes in &lt;float&gt; minutes</span>
<span class="sd">      ========================= ==========================================================================</span>
<span class="sd">  &#39;&#39;&#39;</span>

  <span class="n">_mile_in_meter</span> <span class="o">=</span> <span class="mf">1609.34</span> <span class="c1"># number of meters in a mile</span>

  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ffitname</span><span class="p">,</span> <span class="n">hours_dif</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span> <span class="o">=</span> <span class="o">-</span><span class="mi">6</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;Constructor of run_record class.</span>

<span class="sd">       Parameters:</span>
<span class="sd">        :param: ffitname input file name.fit</span>
<span class="sd">        :param: hours_dif difference of hours compared to UTC, US Central is 6 hours later, so set to -6</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># existing variable in the data from input file: altitude, etc</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;float&gt; meter</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># &lt;int&gt; rpm</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;float&gt; meter</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;int&gt; bpm</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_speed</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;float&gt; m/s</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pacekm</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;float&gt; minutes per km </span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;&#39;datetime.datetime&#39;&gt; </span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_elapsedtime</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># &lt;timedelta&gt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_elapsedminutes</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#  &lt;float&gt; of minutes</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_up</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_down</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_avg_altitude</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_min_cadence</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_avg_cadence</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_max_cadence</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_min_heart_rate</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_avg_heart_rate</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_max_heart_rate</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_avg_speed</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_max_speed</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_passed_time</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fast1km_time</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># 1 km</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fast1ml_time</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># 1 mile</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_total_distance</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># number of data points</span>

    <span class="c1">#</span>
    <span class="c1"># private functions called for calculation</span>
    <span class="c1">#</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_read_fit_file</span><span class="p">(</span> <span class="n">ffitname</span><span class="p">,</span> <span class="n">hours_dif</span> <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calculation</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">_calculatePaceFromSpeed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed_m_per_s</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="mf">1000.</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Calculate Pace from Speed.</span>

<span class="sd">      Given the speed in meters / second, calculate the pace in minutes / 1K meters (or 1 mile).</span>
<span class="sd">      - unit: default is 1Km = 1000 m, use 1609.34 for mile</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">speed_m_per_s</span> <span class="o">&lt;=</span> <span class="mf">0.001</span><span class="p">:</span>
      <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span> <span class="s1">&#39; Speed is </span><span class="si">%6.3f</span><span class="s1"> m/s. Too slow! Skip. &#39;</span> <span class="o">%</span> <span class="n">speed_m_per_s</span> <span class="p">)</span>
      <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">nsec</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">unit</span> <span class="o">/</span> <span class="n">speed_m_per_s</span> <span class="p">)</span>
    <span class="n">nminute</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">nsec</span> <span class="o">/</span> <span class="mi">60</span> <span class="p">)</span>
    <span class="n">nsec</span> <span class="o">=</span> <span class="n">nsec</span> <span class="o">%</span> <span class="mi">60</span>
    <span class="c1"># return (nminute, nsec) </span>
    <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="n">nminute</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="n">nsec</span><span class="p">)</span> 


  <span class="k">def</span> <span class="nf">_read_fit_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ffitname</span><span class="p">,</span> <span class="n">hours_dif</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Read a .fit file.</span>

<span class="sd">      Read in all the records associated to this run. A record is a series of measurements including</span>
<span class="sd">      speed, altitude, distance, cadence, heart rate, etc, at a time point. Two records are normally separated</span>
<span class="sd">      by about 2-4 seconds.</span>
<span class="sd">    &#39;&#39;&#39;</span>
 
    <span class="n">fitfile</span> <span class="o">=</span> <span class="n">FitFile</span><span class="p">(</span> <span class="n">ffitname</span> <span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1"># A record is a data point during the run, which records one&#39;s </span>
    <span class="c1">#   position, speed, heart_rate, time and so on</span>
    <span class="c1"># With all the record information, one can calculate the more interesting</span>
    <span class="c1">#   variables during the run, like average pace, elapsed time, etc.</span>
    <span class="c1">#</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">fitfile</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="s1">&#39;record&#39;</span><span class="p">):</span>

      <span class="n">skip</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="k">for</span> <span class="n">record_data</span> <span class="ow">in</span> <span class="n">record</span><span class="p">:</span>
        <span class="c1">#</span>
        <span class="c1"># 0.2 m / s == 0.72 Km / hour, walking or running cannot be that slow!!!!</span>
        <span class="c1">#</span>
        <span class="k">if</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;speed&quot;</span> <span class="ow">and</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mf">0.2</span><span class="p">:</span>
          <span class="n">skip</span> <span class="o">=</span> <span class="kc">True</span>
          <span class="k">break</span>

      <span class="k">if</span> <span class="n">skip</span><span class="p">:</span> <span class="k">continue</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">+</span> <span class="mi">1</span>

      <span class="c1"># Go through all the data entries in this record</span>
      <span class="k">for</span> <span class="n">record_data</span> <span class="ow">in</span> <span class="n">record</span><span class="p">:</span>
        <span class="c1">#if record_data.units:</span>
        <span class="c1">#    print &quot; * %s: %s %s&quot; % ( record_data.name, record_data.value, record_data.units)</span>
        <span class="c1">#else:</span>
        <span class="c1">#    print &quot; * %s: %s&quot; % (record_data.name, record_data.value)</span>

 
        <span class="k">if</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;altitude&quot;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span> <span class="c1">#&lt;float&gt; meter</span>
        <span class="k">elif</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;cadence&quot;</span><span class="p">:</span> 
          <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span> <span class="c1">#&lt;int&gt; rpm</span>
        <span class="k">elif</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span> 
          <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span> <span class="c1">#&lt;float&gt; meter</span>
        <span class="k">elif</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;heart_rate&quot;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span> <span class="c1">#&lt;int&gt; bpm</span>
        <span class="k">elif</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;speed&quot;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_speed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span> <span class="c1">#&lt;float&gt; meter/second</span>
          <span class="n">pace_dt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span>
          <span class="k">if</span> <span class="n">pace_dt</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pacekm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="mf">15.</span> <span class="p">)</span> <span class="c1"># 15 minutes per Km, impossibly slow!</span>
          <span class="c1">#elif pace_dt.total_seconds() &gt; 900: # if it is over 15 minutes, why???</span>
          <span class="c1">#  logging.warning( &quot;Found record with pace: &quot; + str(pace_dt.total_seconds() / 60.) + &quot; minutes / Km. Convert to 15 minutes / Km. &quot; )</span>
          <span class="c1">#  logging.warning( &quot;Found speed: &quot; + str(record_data.value) )</span>
          <span class="c1">#  self._pacekm.append( 15. ) </span>
          <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pacekm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">pace_dt</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">/</span> <span class="mf">60.</span> <span class="p">)</span>
        <span class="k">elif</span> <span class="n">record_data</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span>
          <span class="n">time_pos</span> <span class="o">=</span> <span class="n">record_data</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="n">hours_dif</span> <span class="c1">#&lt;datetime&gt;</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">time_pos</span> <span class="p">)</span> <span class="c1">#&lt;datetime&gt;</span>
          <span class="n">dtm</span> <span class="o">=</span> <span class="n">time_pos</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_elapsedtime</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">dtm</span> <span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_elapsedminutes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">dtm</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">/</span> <span class="mf">60.</span> <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="k">continue</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span>   <span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s2">&quot;altitude&quot;</span>   <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span>    <span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s2">&quot;cadence&quot;</span>    <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span>   <span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s2">&quot;distance&quot;</span>   <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span> <span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s2">&quot;heart_rate&quot;</span> <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_speed</span>      <span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s2">&quot;speed&quot;</span>      <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span>  <span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s2">&quot;time&quot;</span>  <span class="p">)</span>

      
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span> <span class="s1">&#39; Input &#39;</span> <span class="o">+</span> <span class="n">ffitname</span> <span class="o">+</span> <span class="s1">&#39; has no record installed. Check! &#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span> <span class="s1">&#39; Input &#39;</span> <span class="o">+</span> <span class="n">ffitname</span> <span class="o">+</span> <span class="s1">&#39; has &#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span><span class="p">,</span> <span class="s1">&#39; records installed.&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>

  <span class="k">def</span> <span class="nf">_time_of_fastest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dist_set</span> <span class="o">=</span> <span class="mf">1000.</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Time of the fastest 1K or 1Mile.</span>

<span class="sd">      Time for fastest pace with defined distance, default of 1K meters.</span>
<span class="sd">      Use dist_set = 1609.34 for 1Mile.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">idx_1</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># ending point</span>
    <span class="n">delta_dist</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># distance so far recorded from idx_0</span>
    <span class="n">time_min</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">hours</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># initialize with a huge number</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="s2">&quot;time&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">time_min</span> 

    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">):</span>
      <span class="k">while</span><span class="p">(</span> <span class="n">idx_1</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span><span class="p">[</span> <span class="n">idx_1</span> <span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]</span> <span class="o">&lt;</span> <span class="n">dist_set</span> <span class="p">):</span>
        <span class="n">idx_1</span> <span class="o">=</span> <span class="n">idx_1</span> <span class="o">+</span> <span class="mi">1</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">idx_1</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">):</span> <span class="k">break</span><span class="p">;</span>

      <span class="n">dtime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span> <span class="n">idx_1</span> <span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span> <span class="n">dtime</span> <span class="o">&lt;</span> <span class="n">time_min</span> <span class="p">):</span> <span class="n">time_min</span> <span class="o">=</span> <span class="n">dtime</span>

    <span class="k">if</span><span class="p">(</span> <span class="n">time_min</span> <span class="o">&gt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="p">):</span>
      <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span> <span class="s1">&#39; Running distance shorter than set distance: </span><span class="si">%d</span><span class="s1">! Cannot calculate the minimum time.&#39;</span><span class="p">,</span> <span class="n">dist_set</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">time_min</span> 
    
  <span class="k">def</span> <span class="nf">_calculation</span><span class="p">(</span><span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Calculation of all interested variables.</span>

<span class="sd">       Given the measurements of &quot;cadence&quot;, &quot;distance&quot;, &quot;speed&quot;, &quot;heart_rate&quot;, &quot;altitude&quot;, calculate</span>
<span class="sd">       the corresponding variables. </span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span> <span class="s1">&#39; No record. Cannot do calculation. &#39;</span><span class="p">)</span>
      <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="s2">&quot;cadence&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_min_cadence</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span> <span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_avg_cadence</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span> <span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_max_cadence</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span> <span class="p">)</span> 
    <span class="k">if</span> <span class="s2">&quot;heart_rate&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_min_heart_rate</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span> <span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_avg_heart_rate</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span> <span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_max_heart_rate</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span> <span class="p">)</span> 

    <span class="k">if</span> <span class="s2">&quot;distance&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_total_distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span><span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="c1"># in meters</span>
    <span class="k">if</span> <span class="s2">&quot;time&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_passed_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
    <span class="k">if</span> <span class="s2">&quot;speed&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_avg_speed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_total_distance</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_passed_time</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span> <span class="o">=</span> <span class="mf">9999.</span>

    <span class="k">for</span> <span class="n">ispd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_speed</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">ispd</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span> <span class="k">continue</span>
      <span class="k">if</span> <span class="n">ispd</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span> <span class="o">=</span> <span class="n">ispd</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span> <span class="o">&gt;</span> <span class="mi">9998</span><span class="p">:</span>
      <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span> <span class="s1">&#39; No minimum speed found : &#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span><span class="p">,</span> <span class="s1">&#39; m/s.&#39;</span> <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_max_speed</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_speed</span> <span class="p">)</span> 


    <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_up</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_down</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">if</span> <span class="s2">&quot;altitude&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_avg_altitude</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span> <span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span>
      <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="p">):</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_up</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_up</span> <span class="o">+</span> <span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span><span class="o">-</span><span class="mi">1</span> <span class="p">]</span> <span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_down</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_down</span> <span class="o">+</span> <span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]</span> <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_fast1km_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_of_fastest</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fast1ml_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_of_fastest</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mile_in_meter</span> <span class="p">)</span>

  <span class="c1">#--------------------------------------------</span>
  <span class="c1">#------------ Public Functions --------------</span>
  <span class="c1">#--------------------------------------------</span>
<div class="viewcode-block" id="run_record.getListMeasures"><a class="viewcode-back" href="../code0.html#run_record.run_record.getListMeasures">[docs]</a>  <span class="k">def</span> <span class="nf">getListMeasures</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of all measured variables.</span>

<span class="sd">      The list of the variables: &quot;cadence&quot;, &quot;distance&quot;, &quot;speed&quot;, &quot;heart_rate&quot;, &quot;altitude&quot;.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exist_vars</span> </div>

<div class="viewcode-block" id="run_record.getAverageAltitude"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAverageAltitude">[docs]</a>  <span class="k">def</span> <span class="nf">getAverageAltitude</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the average of altitudes during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_altitude</span></div>

<div class="viewcode-block" id="run_record.getAscendMeters"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAscendMeters">[docs]</a>  <span class="k">def</span> <span class="nf">getAscendMeters</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the number of meters ascended during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_up</span></div>

<div class="viewcode-block" id="run_record.getDescendMeters"><a class="viewcode-back" href="../code0.html#run_record.run_record.getDescendMeters">[docs]</a>  <span class="k">def</span> <span class="nf">getDescendMeters</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the number of meters descended during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude_down</span></div>

<div class="viewcode-block" id="run_record.getFastestKmTime"><a class="viewcode-back" href="../code0.html#run_record.run_record.getFastestKmTime">[docs]</a>  <span class="k">def</span> <span class="nf">getFastestKmTime</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the time for the fastest 1K meters during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fast1km_time</span></div>

<div class="viewcode-block" id="run_record.getMinimumSpeed"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMinimumSpeed">[docs]</a>  <span class="k">def</span> <span class="nf">getMinimumSpeed</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the minimum speed in m/s during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span></div>

<div class="viewcode-block" id="run_record.getMaximumSpeed"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMaximumSpeed">[docs]</a>  <span class="k">def</span> <span class="nf">getMaximumSpeed</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the maximum speed in m/s during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_speed</span></div>

<div class="viewcode-block" id="run_record.getAverageSpeed"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAverageSpeed">[docs]</a>  <span class="k">def</span> <span class="nf">getAverageSpeed</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the average speed in m/s during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_speed</span></div>

   
<div class="viewcode-block" id="run_record.getMinimumPaceKm"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMinimumPaceKm">[docs]</a>  <span class="k">def</span> <span class="nf">getMinimumPaceKm</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the minimum pace in minutes/Km during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span> <span class="p">)</span> </div>

<div class="viewcode-block" id="run_record.getMaximumPaceKm"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMaximumPaceKm">[docs]</a>  <span class="k">def</span> <span class="nf">getMaximumPaceKm</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the maximum pace in minutes/Km during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_speed</span> <span class="p">)</span> </div>

<div class="viewcode-block" id="run_record.getAveragePaceKm"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAveragePaceKm">[docs]</a>  <span class="k">def</span> <span class="nf">getAveragePaceKm</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the average pace in minutes/Km during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_speed</span> <span class="p">)</span> </div>
    
<div class="viewcode-block" id="run_record.getMinimumPaceMile"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMinimumPaceMile">[docs]</a>  <span class="k">def</span> <span class="nf">getMinimumPaceMile</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the minimum pace in minutes/mile during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mile_in_meter</span> <span class="p">)</span> </div>

<div class="viewcode-block" id="run_record.getMaximumPaceMile"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMaximumPaceMile">[docs]</a>  <span class="k">def</span> <span class="nf">getMaximumPaceMile</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the maximum pace in minutes/mile during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mile_in_meter</span> <span class="p">)</span> </div>

<div class="viewcode-block" id="run_record.getAveragePaceMile"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAveragePaceMile">[docs]</a>  <span class="k">def</span> <span class="nf">getAveragePaceMile</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the average pace in minutes/mile during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculatePaceFromSpeed</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mile_in_meter</span> <span class="p">)</span> </div>

<div class="viewcode-block" id="run_record.getMinimumCadence"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMinimumCadence">[docs]</a>  <span class="k">def</span> <span class="nf">getMinimumCadence</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the minimum cadence in rpm during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_cadence</span></div>

<div class="viewcode-block" id="run_record.getMaximumCadence"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMaximumCadence">[docs]</a>  <span class="k">def</span> <span class="nf">getMaximumCadence</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the maximum cadence in rpm during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_cadence</span></div>

<div class="viewcode-block" id="run_record.getAverageCadence"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAverageCadence">[docs]</a>  <span class="k">def</span> <span class="nf">getAverageCadence</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the average cadence in rpm during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_cadence</span></div>

<div class="viewcode-block" id="run_record.getMinimumHeartRate"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMinimumHeartRate">[docs]</a>  <span class="k">def</span> <span class="nf">getMinimumHeartRate</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the minimum heart rate in bpm during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_heart_rate</span></div>

<div class="viewcode-block" id="run_record.getMaximumHeartRate"><a class="viewcode-back" href="../code0.html#run_record.run_record.getMaximumHeartRate">[docs]</a>  <span class="k">def</span> <span class="nf">getMaximumHeartRate</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the maximum heart rate in bpm during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_heart_rate</span></div>

<div class="viewcode-block" id="run_record.getAverageHeartRate"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAverageHeartRate">[docs]</a>  <span class="k">def</span> <span class="nf">getAverageHeartRate</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the average heart rate in bpm during the run.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_heart_rate</span></div>

<div class="viewcode-block" id="run_record.getTotalDistanceMile"><a class="viewcode-back" href="../code0.html#run_record.run_record.getTotalDistanceMile">[docs]</a>  <span class="k">def</span> <span class="nf">getTotalDistanceMile</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the total distance in the number of miles.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_total_distance</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mile_in_meter</span></div>

<div class="viewcode-block" id="run_record.getTotalDistanceKm"><a class="viewcode-back" href="../code0.html#run_record.run_record.getTotalDistanceKm">[docs]</a>  <span class="k">def</span> <span class="nf">getTotalDistanceKm</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the total distance in the number of Km.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_total_distance</span> <span class="o">/</span> <span class="mf">1000.</span></div>

<div class="viewcode-block" id="run_record.getTotalDistanceMeter"><a class="viewcode-back" href="../code0.html#run_record.run_record.getTotalDistanceMeter">[docs]</a>  <span class="k">def</span> <span class="nf">getTotalDistanceMeter</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the total distance in the number of meters.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_total_distance</span></div>

<div class="viewcode-block" id="run_record.getTotalTimePassed"><a class="viewcode-back" href="../code0.html#run_record.run_record.getTotalTimePassed">[docs]</a>  <span class="k">def</span> <span class="nf">getTotalTimePassed</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the total time passed in datetime.timedelta.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_passed_time</span></div>

<div class="viewcode-block" id="run_record.getStartTime"><a class="viewcode-back" href="../code0.html#run_record.run_record.getStartTime">[docs]</a>  <span class="k">def</span> <span class="nf">getStartTime</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the starting time in datetime.datetime.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span></div>

<div class="viewcode-block" id="run_record.getEndTime"><a class="viewcode-back" href="../code0.html#run_record.run_record.getEndTime">[docs]</a>  <span class="k">def</span> <span class="nf">getEndTime</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the ending time in datetime.datetime.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_records</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span></div>

<div class="viewcode-block" id="run_record.getAltitudeList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getAltitudeList">[docs]</a>  <span class="k">def</span> <span class="nf">getAltitudeList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of &quot;altitude&quot; records.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_altitude</span></div>

<div class="viewcode-block" id="run_record.getCadenceList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getCadenceList">[docs]</a>  <span class="k">def</span> <span class="nf">getCadenceList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of &quot;cadence&quot; records.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cadence</span></div>

<div class="viewcode-block" id="run_record.getDistanceList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getDistanceList">[docs]</a>  <span class="k">def</span> <span class="nf">getDistanceList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of &quot;distance&quot; records.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_distance</span></div>

<div class="viewcode-block" id="run_record.getHeartRateList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getHeartRateList">[docs]</a>  <span class="k">def</span> <span class="nf">getHeartRateList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of &quot;heart_rate&quot; records.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heart_rate</span></div>

<div class="viewcode-block" id="run_record.getSpeedList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getSpeedList">[docs]</a>  <span class="k">def</span> <span class="nf">getSpeedList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of &quot;speed&quot; records.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_speed</span></div>

<div class="viewcode-block" id="run_record.getPaceKmList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getPaceKmList">[docs]</a>  <span class="k">def</span> <span class="nf">getPaceKmList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of pace calculated with &quot;speed&quot; records.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pacekm</span></div>

<div class="viewcode-block" id="run_record.getDateTimeList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getDateTimeList">[docs]</a>  <span class="k">def</span> <span class="nf">getDateTimeList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of &quot;time&quot; records in datetime.datetime.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span></div>

<div class="viewcode-block" id="run_record.getElapsedTimeList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getElapsedTimeList">[docs]</a>  <span class="k">def</span> <span class="nf">getElapsedTimeList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of elapsed time records in datetime.deltatime.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elapsedtime</span></div>

<div class="viewcode-block" id="run_record.getElapsedMinutesList"><a class="viewcode-back" href="../code0.html#run_record.run_record.getElapsedMinutesList">[docs]</a>  <span class="k">def</span> <span class="nf">getElapsedMinutesList</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the list of elapsed time records in the number of minutes (numeric).</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elapsedminutes</span></div></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/r2.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">myStravaRun</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">How To: A quick tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project.html">Project Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code0.html">Modules: run_record</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code1.html">Modules: read_fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code2.html">Modules: read_sequence</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Jie Yu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>